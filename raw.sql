--USING DATABASE abi
USE abi

--CREATING TABLE
CREATE TABLE LOAN (
    LOAN_TYPE VARCHAR(20), 
    LOAD_ID NUMERIC, 
    LOAN_AMOUNT FLOAT, 
    LOAN_DURATION INT, 
    LOAN_INTEREST FLOAT)

--TO VIEW ALL COLUMNS AND ROWS
SELECT * FROM LOAN

--TO VIEW DEFINATION OF THE TABLE
sp_help LOAN

--ALTER DATATYPE OF A COLUMN
ALTER TABLE LOAN ALTER COLUMN LOAD_ID NUMERIC(10) 
ALTER TABLE LOAN ALTER COLUMN LOAN_DURATION INT(2)

--RENAME COLUMN NAME
sp_rename 'LOAN.LOAD_ID', 'LOAN_ID'

--INSERT SINGLE RECORD (ADDED WRONG DATA INTENTIONALLY)
INSERT INTO LOAN VALUES('Savings_Acc', 426436789, 50000,24,3.4)

--UPDATE SINGLE RECORD
UPDATE LOAN SET LOAN_TYPE='Student_Gen' WHERE LOAN_ID=426436789

--DELETE SINGLE RECORD
DELETE FROM LOAN WHERE LOAN_ID=426436789

--INSERT MULTIPLE RECORDS IN A SINGLE STATEMENT
INSERT INTO LOAN VALUES(
    'Personal', 426436789, 50000,12,3.4), 
    ('Auto', 426436790, 55000,24,5.28), 
    ('Student', 426436791, 40000,24,12.99), 
    ('Mortgage', 426436792, 90000,56,3.01),
    ('Home Equity', 426436793, 54000,36,9.35), 
    ('Credit-Builder', 426436794, 100000,6,5.3), 
    ('Debt Consolidation', 426436795, 140000,3,10.6), 
    ('Payday', 426436796, 15000,1,8.4), 
    ('Student', 426436797, 20000,24,12.99), 
    ('Mortgage', 426436798, 900000,68,3.01)

--UPDATE RECORD IN SPECIFIC COLUMN
UPDATE LOAN SET LOAN_DURATION=12 WHERE LOAN_ID=426436797

--DELETE ROW WITH NULL VALUE
DELETE FROM LOAN WHERE[LOAN_ID] IS NULL

--SYNTAX TO COMMENT OUT
/* SELECT * FROM LOAN */

--ASSIGN PRIMARY KEY TO COLUMN LOAN_ID
ALTER TABLE LOAN ALTER COLUMN LOAN_ID INT NOT NULL
ALTER TABLE LOAN ADD PRIMARY KEY (LOAN_ID)

--SYNTAX TO CHECK PRIMARY KEY AND ALL OTHER INFO
sp_help LOAN
--OR USE BELOW COMMAND
/*
SELECT TABLE_CATALOG, TABLE_NAME, COLUMN_NAME
FROM INFORMATION_SCHEMA.key_column_usage
WHERE TABLE_NAME='LOAN'
 */ 

DROP TABLE LOAN


